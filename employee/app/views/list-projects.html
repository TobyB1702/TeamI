
{% extends "layout.html" %}

{% block pageTitle %}
  Employee System
{% endblock %}

{% block content %}

<h2 class="govuk-heading-m">List of Projects</h2>

{% if projects and projects.length > 0 %} 
{% set projectrows = [] %} 
{% for project in projects %}
{% set projectrows = (projectrows.push([{ text: project.project_id }, {text: project.project_name}, {text: project.employees}, {html:
  '<form action="/assign-to-project/" method="get">
                    <button class="govuk-button" data-module="govuk-button" name="project_id" value="'+project.project_id+'">
                        Assign
                    </button>
                    </form>
                    '
}]), projectrows) %}
{% endfor %} 
{{govukTable({
head: [ { text: "ID" },{ text: "Name" }, {text: "Assigned Employees"}, {text: ""}],
rows: projectrows })
}}
{% else %}
There are no projects.
{% endif %}

{% endblock %}